<div class="min-h-screen bg-gray-50 p-8">
  <div class="max-w-3xl mx-auto">
    <h2 class="text-3xl font-semibold mb-6 text-center">Recherche d'alternants</h2>
    <input
      type="text"
      placeholder="Rechercher par nom, prÃ©nom, Ã©cole, catÃ©gorie..."
      [(ngModel)]="searchTerm"
      (ngModelChange)="filterAlternants()"
      class="w-full border border-gray-300 rounded px-3 py-2 mb-6"
    />
    <div *ngIf="filteredAlternants.length === 0" class="text-center text-gray-500 mt-8">
      Aucun alternant trouvÃ©.
    </div>
    <div class="grid gap-6 md:grid-cols-2">
      <div *ngFor="let alt of filteredAlternants" class="bg-white shadow rounded-lg p-5 flex flex-col gap-2">
        <div class="font-bold text-lg">{{ alt.prenom }} {{ alt.nom }}</div>
        <div><span class="font-semibold">Ã‰cole :</span> {{ alt.ecole || '-' }}</div>
        <div><span class="font-semibold">Niveau d'Ã©tude :</span> {{ alt.niveauEtude || '-' }}</div>
        <div><span class="font-semibold">CatÃ©gorie :</span> {{ alt.categorieEtude || '-' }}</div>
        <div><span class="font-semibold">Ville :</span> {{ alt.ville || '-' }}</div>
        <div *ngIf="alt.lienLinkedin"><a [href]="alt.lienLinkedin" target="_blank" class="text-blue-600 hover:underline">LinkedIn</a></div>
        <div *ngIf="alt.lienPortfolio"><a [href]="alt.lienPortfolio" target="_blank" class="text-blue-600 hover:underline">Portfolio</a></div>
        
        <!-- Bouton pour visualiser le CV (visible seulement aux recruteurs) -->
        <div *ngIf="isRecruteur()" class="mt-3">
          <button 
            (click)="viewCv(alt.utilisateurId)" 
            class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors">
            ðŸ“„ Voir CV
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Composant de visualisation de CV -->
<app-cv-viewer 
  [alternantId]="selectedAlternantId" 
  [showViewer]="showCvViewer"
  (viewerClosed)="closeCvViewer()">
</app-cv-viewer> 