<div class="min-h-screen bg-gray-50 py-8">
  <div class="container mx-auto px-4">
    <h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">Espace Apprenti</h1>
    
    <!-- Navigation des onglets -->
    <div class="flex justify-center mb-8">
      <div class="bg-white rounded-lg shadow-sm p-1">
        <button 
          (click)="setActiveTab('overview')" 
          [class.bg-blue-600]="activeTab === 'overview'"
          [class.text-white]="activeTab === 'overview'"
          [class.text-gray-700]="activeTab !== 'overview'"
          class="px-6 py-2 rounded-md transition-colors">
          ğŸ“Š Vue d'ensemble
        </button>
        <button 
          (click)="setActiveTab('cv')" 
          [class.bg-blue-600]="activeTab === 'cv'"
          [class.text-white]="activeTab === 'cv'"
          [class.text-gray-700]="activeTab !== 'cv'"
          class="px-6 py-2 rounded-md transition-colors">
          ğŸ“„ Gestion CV
        </button>
        <button 
          (click)="setActiveTab('profile')" 
          [class.bg-blue-600]="activeTab === 'profile'"
          [class.text-white]="activeTab === 'profile'"
          [class.text-gray-700]="activeTab !== 'profile'"
          class="px-6 py-2 rounded-md transition-colors">
          ğŸ‘¤ Mon Profil
        </button>
        <button 
          (click)="setActiveTab('notifications')" 
          [class.bg-blue-600]="activeTab === 'notifications'"
          [class.text-white]="activeTab === 'notifications'"
          [class.text-gray-700]="activeTab !== 'notifications'"
          class="px-6 py-2 rounded-md transition-colors">
          ğŸ“¢ Notifications
        </button>
      </div>
    </div>

    <!-- Vue d'ensemble -->
    <div *ngIf="activeTab === 'overview'" class="space-y-6">
      <!-- Grille principale -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- Profil -->
        <div class="lg:col-span-2">
          <app-profile-card></app-profile-card>
        </div>
        
        <!-- Statistiques CV -->
        <div>
          <app-cv-stats></app-cv-stats>
        </div>
      </div>
      
      <!-- Notifications rÃ©centes -->
      <div class="lg:col-span-3">
        <app-notifications></app-notifications>
      </div>
    </div>

    <!-- Gestion CV -->
    <div *ngIf="activeTab === 'cv'" class="space-y-6">
      <app-cv-upload></app-cv-upload>
      
      <!-- Bouton pour visualiser le CV -->
      <div class="max-w-2xl mx-auto">
        <div class="bg-white rounded-lg shadow-sm p-6">
          <h3 class="text-lg font-semibold mb-4">Visualiser mon CV</h3>
          <p class="text-gray-600 mb-4">PrÃ©visualisez votre CV tel qu'il apparaÃ®tra aux recruteurs.</p>
          <button 
            (click)="viewMyCv()"
            class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors">
            ğŸ‘ï¸ Visualiser mon CV
          </button>
        </div>
      </div>
    </div>

    <!-- Profil dÃ©taillÃ© -->
    <div *ngIf="activeTab === 'profile'" class="max-w-4xl mx-auto">
      <app-profile-card></app-profile-card>
    </div>

    <!-- Notifications -->
    <div *ngIf="activeTab === 'notifications'" class="max-w-4xl mx-auto">
      <app-notifications></app-notifications>
    </div>
  </div>
</div>

<!-- Composant de visualisation de CV -->
<app-cv-viewer 
  [alternantId]="currentUserId" 
  [showViewer]="showCvViewer"
  (viewerClosed)="closeCvViewer()">
</app-cv-viewer>
